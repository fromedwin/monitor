{% extends 'projects/project_view.html' %}
{% load static socialaccount account tailwind_tags fromedwin_tags %}

{% block html_head_title %}Report - {{ project.title }} - FromEdwin{% endblock %}

{% block javascript %}
<!-- <script src="{% static 'lighthouse-viewer/lighthouse-viewer-no-dark-mode.umd.js' %}"></script> -->
{% endblock %}

{% block subsection %}

<div class="p-4">
    <div class="pb-5 border-b border-gray-200 sm:flex sm:items-center sm:justify-between">
      <h3 class="text-lg leading-6 font-medium text-gray-900">
        Report
      </h3>
      <div class="mt-3 sm:mt-0 sm:ml-4">
      </div>
    </div>
    
    <main id="lighthouse-viewer-element"></main>

    <script src="{% static 'lighthouse-viewer/lighthouse-viewer-no-dark-mode.umd.js' %}"></script>
    <script>
      var json = {{ json|safe }};
      const app = document.getElementById('lighthouse-viewer-element');
      const reportHtml = LighthouseViewer.renderReport(json, { omitTopbar: true });
      app.appendChild(reportHtml);
    </script>
</div>
{% endblock %}
